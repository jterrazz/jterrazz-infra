---
# Storage Setup - Creates base directory for k3s local-path-provisioner
# The k3s local-path-provisioner will create subdirectories for each PVC automatically

- name: Create base storage directory for Kubernetes PVCs
  ansible.builtin.file:
    path: /var/lib/k8s-data
    state: directory
    mode: "0755"
    owner: root
    group: root

- name: Ensure storage directory has correct permissions
  ansible.builtin.file:
    path: /var/lib/k8s-data
    state: directory
    mode: "0755"
    recurse: false
