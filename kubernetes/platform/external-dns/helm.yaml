provider:
  name: cloudflare

env:
  - name: CF_API_TOKEN
    valueFrom:
      secretKeyRef:
        name: cloudflare-api-token
        key: api-token

# Domain filters - managed zones
domainFilters:
  - jterrazz.com
  - clawrr.com

# Only create records, don't delete unmanaged ones
policy: upsert-only

# Watch IngressRoute resources (Traefik)
sources:
  - traefik-proxy

# Add ownership label to managed records
txtOwnerId: "jterrazz-k8s"
txtPrefix: "_external-dns."

resources:
  requests:
    cpu: 5m
    memory: 17Mi
  limits:
    memory: 48Mi

# Log what it's doing
logLevel: debug
