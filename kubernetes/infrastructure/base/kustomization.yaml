apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: infrastructure-base

resources:
  # Namespace definitions
  - platform-namespaces.yaml

  # Storage configuration (local-path provisioner)
  - storage/

  # Network policies
  - network-policies/

  # ArgoCD - GitOps controller (with namespace handling)
  - argocd/

  # Infrastructure dashboard
  - dashboard/base.yml

  # Infrastructure applications
  - portainer/portainer.yml

  # Traefik configurations
  - traefik/middleware.yml
  - traefik/global-https-redirect.yml
